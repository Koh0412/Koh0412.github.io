!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);const n={tasks:document.getElementById("tasks"),setting:document.getElementById("setting"),taskAdd:document.getElementById("task-add"),form:document.getElementById("form"),taskCount:document.getElementById("task-count"),low:document.getElementById("priority-low"),medium:document.getElementById("priority-medium"),high:document.getElementById("priority-high"),searchForm:document.getElementById("search-form"),search:document.getElementById("search")},s={ripple:document.querySelector(".ripple-element")},o={noTask:'<div class="alert alert-info">現在タスクはありません</div>',priority:{low:"<span>優先度: 低</span>",medium:"<span>優先度: 中</span>",high:"<span>優先度: 高</span>"}};class i{constructor(){}convertInput(t){return t}cardColorClassName(t){switch(t){case 1:return"priority-low";case 2:return"priority-medium";case 3:return"priority-high";default:return""}}ripple(t){const e=document.querySelector(".ripple-effect"),r=t.offsetX,n=t.offsetY,s=r-t.target.clientWidth/2,o=n-t.target.clientHeight/2;e.setAttribute("style",`top: ${o}px; left: ${s}px;`),e.classList.contains("is-show-green")||(e.classList.add("is-show-green"),window.setTimeout(()=>{e.classList.remove("is-show-green")},750))}}var a;!function(t){t.clear="タスクを削除しますか？",t.allClear="タスクを全て削除しますか？"}(a||(a={}));class c{constructor(){}clear(){window.confirm(a.allClear)&&(localStorage.clear(),this.count(),n.tasks.innerHTML=o.noTask)}count(){n.taskCount.innerText=`${localStorage.length}`}noMatchMsg(t,e=""){0===localStorage.length&&(t.innerHTML=e)}remove(t){const e=t.target,r=e.parentElement;if(e.classList.contains("delete")){r.parentElement.remove();const t=r.textContent.trim();localStorage.removeItem(t),this.noMatchMsg(n.tasks,o.noTask)}this.count()}save(t,e){e&&localStorage.setItem(t,e)}}class l{constructor(){this.storage=new c,this.components=new i,this.priorityArray=[]}app(){n.form.addEventListener("submit",t=>{t.preventDefault();const e=this.registeredValue().trim();this.createTaskList(e)}),n.setting.addEventListener("click",()=>{this.storage.clear()}),window.onload=()=>{this.getItemListIn(n.tasks)},n.tasks.addEventListener("click",t=>{this.storage.remove(t)}),s.ripple.addEventListener("mousedown",t=>{this.components.ripple(t)}),n.searchForm.addEventListener("input",t=>{n.tasks.innerHTML="",this.getItemListIn(n.tasks,{isSearch:!0,event:t})})}clearInForm(t){n.tasks.innerHTML+=this.taskTemplate(t),this.components.convertInput(n.taskAdd).value=""}createTaskList(t){if(t.length){const e=this.taskTemplate(t);this.storage.save(t,e),this.clearInForm(t),this.storage.count(),this.storage.noMatchMsg(n.tasks)}}getItemListIn(t,e={isSearch:!1,event:null}){for(let r in localStorage){const s=localStorage.getItem(r);if(!s||e.isSearch||e.event||(t.innerHTML+=localStorage.getItem(r),this.storage.noMatchMsg(n.tasks,o.noTask)),s&&e.isSearch&&e.event){n.searchForm.onsubmit=()=>!1;const s=e.event.target.value;r.includes(s)&&(t.innerHTML+=localStorage.getItem(r))}}this.storage.count()}priority(){const t=this.components.convertInput(n.low),e=this.components.convertInput(n.medium),r=this.components.convertInput(n.high);return t.checked?Number(t.value):e.checked?Number(e.value):r.checked?Number(r.value):0}getPriorityStr(t){switch(t){case 1:return o.priority.low;case 2:return o.priority.medium;case 3:return o.priority.high;default:return""}}registeredValue(){return this.components.convertInput(n.taskAdd).value}taskTemplate(t){const e=this.getPriorityStr(this.priority());return`\n    <li class="${this.components.cardColorClassName(this.priority())}">\n      <div class="task-title">\n        ${t}\n        <i class="far fa-trash-alt delete"></i>\n      </div>\n      <div class="task-property">\n        ${e}\n      </div>\n    </li>`}}(new l).app()}]);